<script type='text/javascript'>
      function encodeImageFileAsURL() {

        var filesSelected = document.getElementById("inputFileToLoad").files;
        if (filesSelected.length > 0) {
          var fileToLoad = filesSelected[0];

          var fileReader = new FileReader();

          fileReader.onload = function(fileLoadedEvent) {
            var srcData = fileLoadedEvent.target.result; // <--- data: base64

            var newImage = document.createElement('img');
            newImage.src = srcData;
            // new xml request
            // post to /add/img
            // --> add this to the db
            // --> close connection
            // submission -> a page full of pictures and info about pictures.
            // profile -> a person can submit pictures, and when pic is submitted, a picture will be shown
            // with name and name of dish.
            // person = {
              // submittedIMGURL: 'string';
            //}
            // add img to html
            // replace the place holder.
            document.getElementById("imgTest").innerHTML = newImage.outerHTML;
            alert("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
            console.log("Converted Base64 version is " + document.getElementById("imgTest").innerHTML);
          }
          fileReader.readAsDataURL(fileToLoad);
        }
      }
    </script>

<form action="#">
<input id="inputFileToLoad" type="file" onchange="encodeImageFileAsURL();"> <!--  -->
</form>
<div id="imgTest"></div> <!--  -->